<?xml version="1.0" encoding="UTF-8"?>

<ui class="start-app">
  <TabContainer id="tabContainer" w="100%" h="100%">
    <Pane pageTitle="Start" style="position: relative;">
      <div style="float: left; width: 30%; height: 100%; border-right: solid 1px #DDDDDD; padding-right: 6px;">
        <h3>
          Apps:
          <Icon id="appReload" ref="RELOAD" style="margin-left: 3px;" />
          <Icon id="appLoading" ref="LOADING" style="margin-left: 3px;" />
        </h3>
        <div w="100%" h="100%-50" style="overflow-y: auto;">
          <table>
            <tbody id="appTable">
            </tbody>
          </table>
        </div>
      </div>
      <Pane id="inlinePane" w="70%-14" h="100%" style="float: left; padding-left: 6px;">
        <Pane w="50%-25" class="dash-item box yellow" style="float: left; clear: left;">
          <div style="padding: 0 10px;">
            <img src="images/logotype-icon-256x256.png" style="float: right; width: 128px; height: 128px;" />
            <h2 style="font-family: Trebuchet MS; margin: 6px 0;">Welcome to RapidContext!</h2>
            <div>
              <p style="margin-top: 6px;">RapidContext is a platform for dynamic web applications and tools.</p>
              <p>If you haven't used it before, you can take the quick tour and
              learn the basics in an easy, interactive fashion.</p>
            </div>
            <Button id="tourButton" icon="fa fa-lg fa-caret-right" class="m-0 mb-2">
              Start Quick Tour
            </Button>
          </div>
        </Pane>
      </Pane>
    </Pane>
  </TabContainer>
  <Pane id="infoBar" style="position: absolute; top: 10px; right: 12px;">
    <i class="fa fa-user"></i>
    <span id="infoUser" style="padding-left: 0.5em;"/>
    <i class="fa fa-plug" style="padding-left: 1.5em"></i>
    <span id="infoEnv" style="padding-left: 0.5em" />
    <i class="fa fa-caret-down" style="padding-left: 1em"></i>
  </Pane>
  <Popup id="menu" style="top: 29px; right: 10px; display: none; min-width: 200px; z-index: 10000; overflow: hidden;">
    <h3 id="menuTitle">Anonymous User</h3>
    <div id="menuAbout" class="widgetPopupItem">About RapidContext</div>
    <div id="menuHelp" class="widgetPopupItem">Help &amp; Documentation</div>
    <div id="menuAdmin" class="widgetPopupItem widgetPopupDisabled">Administration</div>
    <hr/>
    <div id="menuPassword" class="widgetPopupItem widgetPopupDisabled">Change Password</div>
    <div id="menuLogInOut" class="widgetPopupItem">Login</div>
  </Popup>
  <Dialog id="passwordDialog" title="Change Password" system="true" resizeable="false" style="width: 25rem;">
    <Form id="passwordForm" class="-box-border">
      <table class="w-100">
        <tbody>
          <tr>
            <th class="label text-right px-2 py-1" style="width: 11em;">Current Password:</th>
            <td class="pb-2">
              <TextField id="passwordCurrent" name="current" type="password" class="w-100"/>
              <FormValidator id="passwordError" name="current" mandatory="false" class="p-0" />
            </td>
          </tr>
          <tr>
            <th class="label text-right px-2 py-1">New Password:</th>
            <td class="pb-2">
              <TextField name="password" type="password" class="w-100"/>
              <FormValidator name="password" regex=".{5,}" message="Minimum length is 5 characters." class="p-0" />
            </td>
          </tr>
          <tr>
            <th class="label text-right px-2 py-1">Confirm Password:</th>
            <td class="pb-2">
              <TextField name="passwordcheck" type="password" class="w-100"/>
              <FormValidator name="passwordcheck" message="Not identical to password above." class="p-0" />
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-right mt-1">
        <Button id="passwordCancel" type="button" icon="fa fa-lg fa-times">
          Cancel
        </Button>
        <Button id="passwordSave" type="submit" highlight="true" icon="fa fa-lg fa-check" class="ml-2">
          Change Password
        </Button>
      </div>
    </Form>
  </Dialog>
  <Dialog id="loginDialog" title="Login" system="true" resizeable="false" style="width: 22rem;">
    <Form id="loginForm" class="-box-border">
      <table class="w-100">
        <tbody>
          <tr>
            <th class="label text-right px-2 py-1" style="width: 8em;">Login / Email:</th>
            <td class="pb-2">
              <TextField id="loginUser" name="user" class="w-100" />
              <FormValidator name="user" mandatory="true" message="A user name is required" class="p-0" />
            </td>
          </tr>
          <tr>
            <th class="label text-right px-2 py-1">Password:</th>
            <td class="pb-2">
              <TextField id="loginPassword" name="password" type="password" class="w-100" />
              <FormValidator id="loginPasswordError" name="password" mandatory="false" class="p-0" />
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-right mt-1">
        <Button id="loginCancel" type="button" icon="fa fa-lg fa-times">
          Cancel
        </Button>
        <Button id="loginAuth" type="submit" highlight="true" icon="fa fa-lg fa-check" class="ml-2">
          Login
        </Button>
      </div>
    </Form>
  </Dialog>
  <Dialog id="logoutDialog" title="Logout Completed" system="true" closeable="false" resizeable="false" style="width: 350px;">
    <div style="margin: 0 10px 5px 10px;">
      <h2>You've been logged out.</h2>
      <p>Please close your web browser in order to complete the logout process.</p>
    </div>
  </Dialog>
  <Dialog id="about" title="About RapidContext" w="544" h="630" modal="true" resizeable="false" class="about">
    <div class="header" style="position: absolute; top: 0; left: 0; right: 0; padding: 20px 0;">
      <div class="center">
        <a href="https://www.rapidcontext.com/" target="_blank" class="logotype" style="margin-left: 3em;">
          <img src="/images/logotype.png" />
        </a>
        <div class="text">
          <a href="https://www.rapidcontext.com/" target="_blank">
            <span style="font-size: 3.6em;">RapidContext</span><br/>
            <span style="font-size: 1.75em; color: #caf3ff;">Access &#183; Discovery &#183; Insight</span><br/>
            <span style="font-size: 1.3em; letter-spacing: 0.34em; line-height: 1.8em;">www.rapidcontext.com</span>
          </a>
        </div>
      </div>
    </div>
    <div style="padding: 170px 15px 25px 15px;">
      <p><strong>Version: </strong><span id="aboutVersion">1.0.0</span><br/>
      <strong>License: </strong><a href="doc/LICENSE.md" target="_blank">BSD License</a> (source code only)</p>

      <p>Copyright &#169; 2007-2022 by Per Cederberg. All rights reserved.<br/>
      Usage of the RapidContext name and logotype is restricted.<br/>
      Please visit the
      <a href="https://www.rapidcontext.com/" target="_blank">RapidContext project web site</a>
      for more information.</p>

      <p>This software would not be possible without the following software libraries;<br/>
      &#187; <a href="https://mochi.github.io/mochikit/" target="_blank">MochiKit</a>,
      copyright &#169; Bob Ippolito,<br/>
      &#187; <a href="http://www.liquidx.net/plotkit/" target="_blank">PlotKit</a>,
      copyright &#169; Alastair Tse,<br/>
      &#187; <a href="http://jquery.com/" target="_blank">jQuery</a>,
      copyright &#169; jQuery Foundation, Inc,<br/>
      &#187; <a href="http://code.google.com/p/crypto-js" target="_blank">Crypto-JS</a>,
      copyright &#169; Jeff Mott,<br/>
      &#187; <a href="http://www.mozilla.org/rhino/" target="_blank">Mozilla Rhino</a>,
      copyright &#169; The Mozilla Foundation,<br/>
      &#187; <a href="http://commons.apache.org/" target="_blank">Apache Commons</a>,
      copyright &#169; The Apache Software Foundation, and<br/>
      &#187; <a href="http://www.mortbay.org/jetty/" target="_blank">Jetty WebServer</a>,
      copyright &#169; Mort Bay Consulting.</p>

      <p>Fonts and images have kindly been provided by or adapted from the following sources;<br/>
      &#187; <a href="http://fontawesome.io/" target="_blank">Font Awesome</a>,
      copyright &#169; Dave Gandy (icon font), and<br/>
      &#187; <a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank">Silk
      Icons by FamFamFam</a>, copyright &#169; Mark James (some small icon images).</p>
    </div>
    <div style="position: absolute; bottom: 15px; right: 15px;">
      <Button id="aboutClose" highlight="true" icon="fa fa-lg fa-check">
        Close
      </Button>
    </div>
  </Dialog>
  <Dialog id="tourDialog" title="RapidContext Quick Tour" center="false" resizeable="false" w="80%" h="190">
    <Wizard id="tourWizard" style="width: 100%; height: 100%;">
      <Pane pageTitle="Welcome to the Quick Tour of RapidContext!">
        <ul>
          <li>This tour will show you some of the basic functions in RapidContext.</li>
          <li>The tour can be cancelled at any time by pressing the
              <i class="fa fa-times"></i> icon on this dialog.</li>
        </ul>
      </Pane>
      <Pane pageTitle="The Start App">
        <ul>
          <li>The <strong>Start</strong> app is the starting point for launching other apps.</li>
          <li>Apps are launched by clicking their corresponding icon.</li>
          <li>By holding <strong>Ctrl</strong> or <strong>Alt</strong>, the apps open in separate windows.</li>
        </ul>
        <Button id="tourStartLocate" class="info" icon="fa fa-lg fa-info-circle">
          Locate
        </Button>
      </Pane>
      <Pane pageTitle="Using Help &amp; Docs">
        <ul>
          <li>This is the <strong>Help &amp; Docs</strong> app.</li>
          <li>Here you'll find the user manual for RapidContext.</li>
          <li>It also contains developer &amp; app documentation.</li>
        </ul>
        <Button id="tourHelpLocate" class="info" icon="fa fa-lg fa-info-circle">
          Locate
        </Button>
      </Pane>
      <Pane pageTitle="App Switching &amp; Tabs">
        <ul>
          <li>Many apps can run at the same time, each in a separate tab.</li>
          <li>Switching between apps is easy by clicking the tabs. The <i class="fa fa-times"></i> button closes the app.</li>
          <li>You can also run several copies of a single app, e.g. to compare results or data.</li>
        </ul>
        <Button id="tourTabsLocate" class="info" icon="fa fa-lg fa-info-circle">
          Locate
        </Button>
      </Pane>
      <Pane pageTitle="The User Menu">
        <ul>
          <li>At the top right corner of the screen is the user and environment information.</li>
          <li>When passing the mouse pointer over it, the <strong>User Menu</strong> is shown.</li>
          <li>This menu provides login, logout and password change functions.</li>
        </ul>
        <Button id="tourUserLocate" class="info" icon="fa fa-lg fa-info-circle">
          Locate
        </Button>
      </Pane>
    </Wizard>
  </Dialog>
  <Pane id="tourLocator" style="position: absolute; z-index: 10000; border: 3px solid #88AACC; background: #DDEEFF; display: none;"></Pane>
</ui>
