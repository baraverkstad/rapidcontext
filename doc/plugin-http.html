<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/doc.css">
    <link rel="stylesheet" href="css/font-awesome-4.7.0.min.css">
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="images/logotype-icon.ico">
    <link rel="icon" type="image/png" sizes="256x256" href="images/logotype-icon-256x256.png">
    <link rel="apple-touch-icon" sizes="256x256" href="images/logotype-icon-256x256.png">
    <title>RapidContext :: HTTP Plug-In</title>
  </head>
  <body class="doc">
    <section class="header">
      <div class="center">
        <a href="https://www.rapidcontext.com/" class="logotype">
          <img src="images/logotype.png">
        </a>
        <div class="text">
          <a href="https://www.rapidcontext.com/">
            <span style="font-size: 3.6em;">RapidContext</span><br>
            <span style="font-size: 1.75em; color: #caf3ff;">Access &#183; Discovery &#183; Insight</span><br>
            <span style="font-size: 1.3em; letter-spacing: 0.34em; line-height: 1.8em;">www.rapidcontext.com</span>
          </a>
        </div>
      </div>
      <div class="menu">
        <a href="https://www.rapidcontext.com/doc/index.html">Docs</a>
        &bull; <a href="https://github.com/cederberg/rapidcontext/releases">Downloads</a>
        &bull; <a href="https://github.com/cederberg/rapidcontext">Project</a>
      </div>
    </section>
    <section class="content center">

<ol class="breadcrumb">
  <li><a href="index.html">Documentation</a></li>
  <li class="active">HTTP Plug-In</li>
</ol>

<!--START-->

<h1>HTTP Plug-In</h1>

<p>The HTTP plug-in provides the ability to call external web servers or
API:s through HTTP (HyperText Transport Protocol). This allows RapidContext
to access simple web services or to retrieve remote content in a proxy-like
way.</p>


<h2 id="builtins">1. Built-in Procedure &amp; Procedure Type</h2>

<p>The HTTP plug-in provides two ways to perform an HTTP request from the
RapidContext server:</p>

<ul class="box yellow">
  <li><strong>The <var>PlugIn.Http.Request</var> procedure</strong> &ndash;
      A built-in procedure for performing an HTTP request. By default only
      accessible to users with the <var>admin</var> role. This procedure
      should be used for testing and development.</li>
  <li><strong>Procedures of the <var>http.request</var> type</strong> &ndash;
      Supports parameter substitution with procedure arguments in either the
      URL, HTTP headers, query string or payload.</li>
</ul>

<p>An HTTP connection can also be created to share base <var>url</var> and
<var>headers</var> parameters between procedures.</p>


<h2 id="results">2. Result Mappings</h2>

<p>HTTP responses can be processed differently depending on the procedure
<var>flags</var> parameter:</p>

<ul class="box yellow">
  <li><strong><var>json</var></strong> &ndash; Successful responses (HTTP 2xx)
      are parsed as JSON and returned in a data object.</li>
  <li><strong><var>jsonerror</var></strong> &ndash; All responses are parsed
      as JSON and returned in a data object.</li>
  <li><strong><var>metadata</var></strong> &ndash; All responses are wrapped
      in a metadata object with a <var>success</var> flag and other
      parameters.</li>
</ul>

<p>The default processing returns successful (HTTP 2xx) responses as a text
strings. Other HTTP response codes result in an error being thrown.</p>


<h2 id="params">3. Parameter Substitution</h2>

<p>The <var>url</var>, <var>headers</var> and <var>data</var> parameters may
contain procedure call arguments. These are substituted with the procedure
argument values at call time. The argument names are prefixed with either a
<q><var>@</var></q> (unencoded) or <q><var>:</var></q> (encoded) character
where they should be inserted:</p>

<div class="box blue">
  <i class="box-icon fa fa-code"></i>
  <pre class="box-content code">
<span class="comment"># Substituting 'name' and 'raw' arguments</span>
user=:name
@raw</pre>
</div>

<p>Depending on parameter and the <var>Content-Type</var> header, the argument
values may be encoded as a URL parameter, JSON text or XML text. Also note
that the <var>data</var> parameter will automatically process newlines and
join the text with <q><var>&amp;</var></q> characters.</p>

<!--END-->

    </section>
    <section class="footer center fineprint">
      <hr>
      Copyright &copy; 2007-2022 Per Cederberg. All rights reserved.
    </section>
  </body>
</html>
